app.directive("talentIcon",function(e,n){return{restrict:"E",link:function(t,r,a){a.talent.length>0&&a.$observe("talent",function(a){var s=e(a)(),i=angular.element('<div class="talent-icon-border inactive">');i.attr("data-talent-Id",s.id);var o=angular.element('<div class="talent-icon inactive">');o.css("background",sprintf('url("%s") no-repeat center center',s.iconFilePath)),o.attr("ng-mouseenter",sprintf("showTalentTooltip($event, %s, %s, %s)",s.specIndex,s.rowIndex,s.colIndex)),o.attr("ng-mouseleave","hideTalentTooltip()"),o.attr("ng-click",sprintf("addTalentPoint($event, %s, %s, %s)",s.specIndex,s.rowIndex,s.colIndex)),o.attr("ng-right-click",sprintf("removeTalentPoint($event, %s, %s, %s)",s.specIndex,s.rowIndex,s.colIndex)),i.append(o);var c=angular.element(sprintf('<div class="talent-rank-no">%s</div>',s.selectedRankNo));i.append(c),s.isActive&&(c.css("visibility","visible"),i.removeClass("inactive"),o.removeClass("inactive")),s.selectedRankNo==s.talentRanks.length&&(c.addClass("is-maxed"),i.addClass("is-maxed")),null!==s.requiredTalent&&i.append(function(e){var n=e.requiredTalent,t=angular.element('<div class="requirement-arrow">'),r=e.isActive?"#bba911":"#7D7D7D";if("Down"===n.arrowDirection){var a=(s=34+62*(e.rowIndex-n.rowIndex-1))-18;t.width(10),t.height(a),t.css("bottom",s+"px"),t.css("left","16px"),t.css("background-color",r),(c=angular.element('<div class="arrow-down">')).css("top",a-5),c.css("border-top-color",r),t.append(c)}if("Right"===n.arrowDirection){var s=30+80*(e.colIndex-n.colIndex-1);t.height(10),t.width(s),t.css("right",s+"px"),t.css("background-color",r),(c=angular.element('<div class="arrow-right">')).css("left",s-6),c.css("border-left-color",r),t.append(c)}if("DownRight"===n.arrowDirection){t=[];var i=angular.element('<div class="requirement-arrow">');i.height(10),i.width(62),i.css("right","36px"),i.css("bottom","60px"),i.css("background-color",r),t.push(i);var o=angular.element('<div class="requirement-arrow">');o.width(10),o.height(42),o.css("bottom","70px"),o.css("left","16px"),o.css("box-shadow","none"),o.css("background-color",r);var c;(c=angular.element('<div class="arrow-down">')).css("top","37px"),c.css("border-top-color",r),o.append(c),t.push(o)}return t}(s)),r.empty(),r.append(n(i)(t))},!0)}}}),app.directive("ngRightClick",function(e){return function(n,t,r){var a=e(r.ngRightClick);t.bind("contextmenu",function(e){n.$apply(function(){e.preventDefault(),a(n,{$event:e})})})}});